package com.onyx.libedu.request.cloud;import com.onyx.android.sdk.data.DataManager;import com.onyx.android.sdk.data.utils.JSONObjectParseUtils;import com.onyx.libedu.BaseEduRequest;import com.onyx.libedu.EduCloudManager;import com.onyx.libedu.EduServiceFactory;import com.onyx.libedu.model.QuestionType;import com.onyx.libedu.model.Result;import com.onyx.libedu.model.Subject;import org.json.JSONObject;import java.util.List;import java.util.Map;import retrofit2.Call;import retrofit2.Response;/** * Created by ming on 2016/10/31. */public class GetQuestionTypeRequest extends BaseEduRequest{    private static final String TAG = "GetSubjectRequest";    private List<QuestionType> questionTypes;    private long subjectId;    public GetQuestionTypeRequest(long subjectId) {        this.subjectId = subjectId;    }    @Override    public void execute(EduCloudManager parent) throws Exception {        Map<String, Object> paramMap = parent.createParamMap();        paramMap.put("subjectId", subjectId);        parent.sign(paramMap);        Call<Result<List<QuestionType>>> call = EduServiceFactory.getEduService(parent.getEduConf().getApiBase()).getQuestionTypeList(paramMap);        Response<Result<List<QuestionType>>> response = call.execute();        if (response.isSuccessful()) {            Result<List<QuestionType>> result = response.body();            questionTypes = result.getData();        } else {            String errorCode = JSONObjectParseUtils.httpStatus(response.code(), new JSONObject(response.errorBody().string()));            throw new Exception(errorCode);        }    }    public List<QuestionType> getQuestionTypes() {        return questionTypes;    }}