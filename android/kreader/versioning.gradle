ext.gitBranch = { ->
    return 'git rev-parse --abbrev-ref HEAD'.execute().text.trim()
}

ext.gitVersionCode = { path ->
    int code = 3000 + ('bash +x ./get_app_version_from_git.sh ' + path).execute().text.trim().toInteger();
    println('./get_app_version_from_git.sh ' + path + ' -> ' + code)
    return code
}

ext.gitHash = { ->
    return 'git rev-parse --short HEAD'.execute().text.trim()
}

ext.releaseChannel = { ->
    if (rootProject.hasProperty("releaseChannel")) {
        return rootProject.property("releaseChannel")
    }
    return "ONYX"
}

ext.releaseType = { ->
    if (rootProject.hasProperty("releaseType")) {
        return rootProject.property("releaseType")
    }
    return "RELEASE"
}

ext.releasePlatform = { ->
    if (rootProject.hasProperty("releasePlatform")) {
        return rootProject.property("releasePlatform")
    }
    return "ONYX"
}