ext.gitBranch = { ->
    return 'git rev-parse --abbrev-ref HEAD'.execute().text.trim()
}

ext.gitVersionCode = { path ->
    int code = 3000 + ('git rev-list --count --all ' + path).execute().text.trim().toInteger();
    println('git rev-list --count --all ' + path + " -> " + code)
    return code
}

ext.gitHash = { ->
    return 'git rev-parse --short HEAD'.execute().text.trim()
}

ext.releaseChannel = { ->
    if (rootProject.hasProperty("releaseChannel")) {
        return rootProject.property("releaseChannel")
    }
    return "ONYX"
}

ext.releaseType = { ->
    if (rootProject.hasProperty("releaseType")) {
        return rootProject.property("releaseType")
    }
    return "RELEASE"
}

ext.releasePlatform = { ->
    if (rootProject.hasProperty("releasePlatform")) {
        return rootProject.property("releasePlatform")
    }
    return "ONYX"
}